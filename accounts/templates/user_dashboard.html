{% extends 'dashboard_base.html' %}

{% block title %}User Dashboard{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
    <div class="row">
      <div class="col-md-3">
        <div class="list-group">
          <a href="#" class="list-group-item list-group-item-action active" onclick="showProfile(this)">User Profile</a>
          <a href="#" class="list-group-item list-group-item-action" onclick="showTestReport(this)">View Test Report</a>
          <a href="#" class="list-group-item list-group-item-action" onclick="showForgotPassword(this)">Forgot Password</a>
        </div>
      </div>
      <div class="col-md-9">
        <div id="profileSection">
          <div class="card mb-4">
            <div class="card-header">User Profile</div>
            <div class="card-body">
              <form id="profileForm">
                {% csrf_token %}
                <div class="alert update_alert" style="display:none" role="alert">
                </div>
                <div class="mb-3">
                  <label for="firstName" class="form-label">First Name</label>
                  <input type="text" class="form-control" id="firstName" placeholder="Enter your first name">
                </div>
                <div class="mb-3">
                  <label for="lastName" class="form-label">Last Name</label>
                  <input type="text" class="form-control" id="lastName" placeholder="Enter your last name">
                </div>
                <button type="submit" class="btn btn-primary">Update Profile</button>
              </form>
            </div>
          </div>
        </div>

        <div id="testReportSection" style="display: none;">
          <div class="card">
            <div class="card-header">Test Report</div>
            <div class="card-body">
                <table id="allReports" class="display" width="100%"></table>
            </div>
          </div>
        </div>
        <div id="forgotPassword" style="display: none;"> 
            <div class="card">
              <div class="card-header">Forgot Password</div>
              <div class="card-body">
                <form id="passwordChangeForm">
                    {% csrf_token %}
                    <div class="alert change_password_alert" style="display:none" role="alert">
                    </div>
                    <div class="mb-3">
                      <label for="newPassword" class="form-label">Password</label>
                      <input type="password" class="form-control" id="newPassword" name="new_password" placeholder="New Password">
                    </div>
                    <div class="mb-3">
                      <label for="confirmPassword" class="form-label">Confirm Password</label>
                      <input type="password" class="form-control" id="confirmPassword" placeholder="confirm your password">
                    </div>
                    <button type="submit" class="btn btn-primary" id="changePassword">Change Password</button>
                  </form>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
{% endblock %}